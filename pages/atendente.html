<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <title>Painel do Atendente - Safe Atendimento</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              secondary: {
                500: '#EC297B',
              }
            }
          }
        }
      }
    </script>
    <style>
      /* Apenas animações customizadas que não podem ser feitas com Tailwind */
      @keyframes gradientShift {
        0% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
        100% { background-position: 0% 50%; }
      }

      @keyframes float {
        0% {
          transform: translateY(100vh) rotate(0deg);
          opacity: 0;
        }
        10% {
          opacity: 1;
        }
        90% {
          opacity: 1;
        }
        100% {
          transform: translateY(-100vh) rotate(360deg);
          opacity: 0;
        }
      }

      @keyframes modalSlideIn {
        from {
          opacity: 0;
          transform: translateY(-20px) scale(0.95);
        }
        to {
          opacity: 1;
          transform: translateY(0) scale(1);
        }
      }

      .bg-animation {
        background-size: 400% 400%;
        animation: gradientShift 15s ease infinite;
      }

      .shape {
        animation: float 20s infinite linear;
      }

      .shape:nth-child(1) {
        width: 80px;
        height: 80px;
        left: 10%;
        animation-delay: 0s;
      }

      .shape:nth-child(2) {
        width: 120px;
        height: 120px;
        left: 20%;
        animation-delay: 2s;
      }

      .shape:nth-child(3) {
        width: 60px;
        height: 60px;
        left: 70%;
        animation-delay: 4s;
      }

      .shape:nth-child(4) {
        width: 100px;
        height: 100px;
        left: 80%;
        animation-delay: 6s;
      }

      .modal {
        animation: modalSlideIn 0.3s ease;
      }

      .senha-item::before {
        content: '';
        position: absolute;
        left: 0;
        top: 0;
        bottom: 0;
        width: 4px;
        background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
      }
    </style>
  </head>
  <body class="font-['Inter',sans-serif] bg-gradient-to-br from-blue-500 to-blue-700 min-h-screen flex flex-col relative overflow-x-hidden">
    <div class="bg-animation fixed top-0 left-0 w-full h-full bg-gradient-to-r from-blue-500 via-blue-700 to-pink-400 opacity-10 z-[1]"></div>
    <div class="floating-shapes fixed w-full h-full overflow-hidden z-[1]">
      <div class="shape absolute bg-white/10 rounded-full"></div>
      <div class="shape absolute bg-white/10 rounded-full"></div>
      <div class="shape absolute bg-white/10 rounded-full"></div>
      <div class="shape absolute bg-white/10 rounded-full"></div>
    </div>

    <!-- Top Navigation -->
    <div class="top-nav bg-gradient-to-br from-blue-500 to-blue-700 text-white py-4 px-6 flex items-center justify-between shadow-lg sticky top-0 z-[100]">
      <div class="nav-left flex items-center">
        <a href="dashboard.html" class="nav-back flex items-center gap-2 text-white no-underline py-2 px-4 rounded-lg transition-all duration-300 font-medium hover:bg-white/10">
          <i class="fas fa-arrow-left"></i>
          <span class="hidden md:inline">Voltar ao Dashboard</span>
        </a>
      </div>
      <div class="nav-center flex-1 flex justify-center">
        <div class="nav-logo flex items-center gap-3 text-xl font-bold">
          <i class="fas fa-user-nurse text-2xl"></i>
          <span class="hidden md:inline">Safe Atendimento</span>
        </div>
      </div>
      <div class="nav-right flex items-center gap-4">
        <div class="nav-user flex items-center gap-3 py-2 px-4 bg-white/10 rounded-lg font-medium">
          <div class="user-avatar w-8 h-8 bg-white/20 rounded-full flex items-center justify-center font-semibold text-sm">AT</div>
          <span class="hidden md:inline">Atendente</span>
        </div>
        <button class="nav-logout bg-transparent border-none text-white text-lg cursor-pointer p-2 rounded-lg transition-all duration-300 hover:bg-white/10" onclick="logout()">
          <i class="fas fa-sign-out-alt"></i>
        </button>
      </div>
    </div>

    <div class="container flex-1 flex items-center justify-center py-10 px-5 relative z-10">
      <div class="painel bg-white/95 backdrop-blur-xl rounded-3xl p-6 md:p-12 shadow-2xl w-full max-w-[1000px] border border-white/20 md:m-0 m-5">
        <div class="header text-center mb-10">
          <div class="logo w-20 h-20 bg-gradient-to-br from-blue-500 to-blue-700 rounded-2xl inline-flex items-center justify-center mb-5 shadow-lg shadow-blue-500/30">
            <i class="fas fa-user-nurse text-3xl text-white"></i>
          </div>
          <div class="titulo text-3xl font-extrabold text-gray-800 mb-2">Painel do Atendente</div>
          <div class="subtitulo text-base text-gray-500 font-medium">Gerencie as senhas e cadastros dos pacientes</div>
        </div>

        <div class="senha-lista w-full flex flex-col gap-5" id="senhaLista"></div>
        
        <div class="sem-senhas text-center py-16 px-5 text-gray-500 hidden" id="semSenhas">
          <i class="fas fa-inbox text-5xl mb-4 text-gray-300"></i>
          <h3 class="text-2xl font-semibold mb-2 text-gray-700">Nenhuma senha pendente</h3>
          <p class="text-base text-gray-500">As senhas aparecerão aqui quando houver pacientes aguardando</p>
        </div>
      </div>
    </div>

    <!-- Botão de Refresh -->
    <button class="refresh-btn fixed bottom-8 right-8 bg-gradient-to-br from-blue-500 to-blue-700 text-white border-none rounded-full w-16 h-16 text-xl cursor-pointer shadow-xl shadow-blue-500/30 transition-all duration-300 z-[100] hover:-translate-y-0.5 hover:shadow-2xl hover:shadow-blue-500/40 active:translate-y-0 flex items-center justify-center" onclick="carregarSenhas()" title="Atualizar dados">
      <i class="fas fa-sync-alt"></i>
    </button>
    <!-- Modal de Cadastro -->
    <div id="modalBg" class="modal-bg fixed top-0 left-0 right-0 bottom-0 bg-black/50 flex items-center justify-center z-[1000] backdrop-blur-sm hidden">
      <form class="modal bg-white rounded-3xl p-6 md:p-8 min-w-[90vw] md:min-w-[400px] max-w-[90vw] shadow-2xl relative" id="modalCadastro" autocomplete="off">
        <div class="modal-header flex items-center gap-3 mb-6 pb-4 border-b border-gray-200">
          <i class="fas fa-user-plus text-2xl text-blue-500"></i>
          <h3 class="text-xl font-bold text-gray-800">Cadastrar Paciente</h3>
        </div>
        <label class="block text-sm font-semibold text-gray-700 mb-2">Nome Completo</label>
        <input type="text" id="inputNome" placeholder="Digite o nome completo" required class="w-full py-3 px-4 border-2 border-gray-200 rounded-xl text-base transition-all duration-300 bg-gray-50 focus:outline-none focus:border-blue-500 focus:bg-white focus:ring-4 focus:ring-blue-500/10">
        <label class="block text-sm font-semibold text-gray-700 mb-2 mt-4">CPF</label>
        <input type="text" id="inputCpf" placeholder="000.000.000-00" required maxlength="14" pattern="\d{11,14}" class="w-full py-3 px-4 border-2 border-gray-200 rounded-xl text-base transition-all duration-300 bg-gray-50 focus:outline-none focus:border-blue-500 focus:bg-white focus:ring-4 focus:ring-blue-500/10">
        <div class="modal-btns flex gap-3 mt-6 justify-end">
          <button type="button" class="btn-cancelar bg-gray-100 text-gray-600 border-none rounded-xl py-3 px-6 text-sm font-semibold cursor-pointer transition-all duration-300 hover:bg-gray-200" id="btnCancelar">Cancelar</button>
          <button type="submit" class="btn-salvar bg-gradient-to-br from-blue-500 to-blue-700 text-white border-none rounded-xl py-3 px-6 text-sm font-semibold cursor-pointer transition-all duration-300 shadow-lg shadow-blue-500/30 hover:-translate-y-0.5 hover:shadow-xl hover:shadow-blue-500/40">Salvar</button>
        </div>
      </form>
    </div>
    
    <!-- Modal de Editar Nome -->
    <div id="modalEditarBg" class="modal-bg fixed top-0 left-0 right-0 bottom-0 bg-black/50 flex items-center justify-center z-[1000] backdrop-blur-sm hidden">
      <form class="modal bg-white rounded-3xl p-6 md:p-8 min-w-[90vw] md:min-w-[400px] max-w-[90vw] shadow-2xl relative" id="modalEditarNome" autocomplete="off">
        <div class="modal-header flex items-center gap-3 mb-6 pb-4 border-b border-gray-200">
          <i class="fas fa-user-edit text-2xl text-blue-500"></i>
          <h3 class="text-xl font-bold text-gray-800">Editar Nome</h3>
        </div>
        <label class="block text-sm font-semibold text-gray-700 mb-2">Nome Completo</label>
        <input type="text" id="inputNomeEditar" placeholder="Digite o nome completo" required class="w-full py-3 px-4 border-2 border-gray-200 rounded-xl text-base transition-all duration-300 bg-gray-50 focus:outline-none focus:border-blue-500 focus:bg-white focus:ring-4 focus:ring-blue-500/10">
        <div class="modal-btns flex gap-3 mt-6 justify-end">
          <button type="button" class="btn-cancelar bg-gray-100 text-gray-600 border-none rounded-xl py-3 px-6 text-sm font-semibold cursor-pointer transition-all duration-300 hover:bg-gray-200" id="btnCancelarEditar">Cancelar</button>
          <button type="submit" class="btn-salvar bg-gradient-to-br from-blue-500 to-blue-700 text-white border-none rounded-xl py-3 px-6 text-sm font-semibold cursor-pointer transition-all duration-300 shadow-lg shadow-blue-500/30 hover:-translate-y-0.5 hover:shadow-xl hover:shadow-blue-500/40">Salvar</button>
        </div>
      </form>
    </div>
    <script src="../js/config.js"></script>
    <script src="../js/atendente.js"></script>
